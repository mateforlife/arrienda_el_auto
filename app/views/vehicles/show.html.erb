<% if notice %>
  <div class="alert alert-success" role="alert" id="notice">
    <%= notice %>
    
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
<% end %>

<div class="container col-xl-7 col-lg-10 col-md-6 col-sm-10">
  <div class="card">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel"  data-interval="4000">

      <!-- The slideshow -->
      <div class="carousel-inner">
        <% @vehicle.profile_images.each_with_index do |image, index| %>     
          <div class="carousel-item <%= index == 0 ? 'active' : '' %>">
            <%= image_tag image.file, class:"card-img-top" %>
          </div>
        <% end %>
      </div>

      <!-- Left and right controls -->
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>

    <div class="card-body">
      <div class='row'>
        <h3 class="card-title col-xl-9 col-sm-7 col-14"><%= @vehicle.brand_model_and_year %></h3>
      <!-- Example single danger button -->
        <div class='container col-xl-3 col-sm-4 col-14' style='text-align: end;'>
          <div class="btn-group">
            <button type="button" class="btn btn-outline-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <%= I18n.t('buttons.options') %>
            </button>
            <div class="dropdown-menu dropdown-menu-right">
            <% if @vehicle.belongs_to_current_user?(current_user) %>
              <%= link_to I18n.t('buttons.edit'), edit_vehicle_path(@vehicle), class:"dropdown-item" %>
              <%= link_to I18n.t('buttons.legal_documents'), new_vehicle_legal_document_path(@vehicle), class:"dropdown-item" %>
              <div class="dropdown-divider"></div>
              <%= link_to I18n.t('buttons.back'), my_vehicles_path, class:"dropdown-item" %>
            <% else %> 
              <%= link_to I18n.t('buttons.back'), vehicles_path, class:"dropdown-item" %>
            <% end %>
            </div>
          </div>
        </div>
      </div>
      <br>
      <h5 class="card-title">Descripción:</h5>
      <p class="card-text"><%= @vehicle.comment %></p><br>
      <div class="row-fluid">
        <h5 class="card-title">Detalles:</h5><br>
        <table class="table table-striped">
          <tbody>
            <tr>
              <th style="width:50%;"> Tarifa diaria:</th>
              <td>$<%= @vehicle.fee.amount %> CLP</td>
            </tr>          
            <tr>
              <th style="width:50%;"> Kilomatraje:</th>
              <td><%= @vehicle.odometer %></td>
            </tr>          
            <tr>
              <th style="width:50%;"> Transmisión:</th>
              <td><%= @vehicle.transmission %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Tipo de motor:</th>
              <td><%= @vehicle.engine_type %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Capacidad:</th>
              <td><%= @vehicle.passenger_capacity %> personas</td>
            </tr>
            <tr>
              <th style="width:50%;"> Aire acondicionado:</th>
              <td><%= @vehicle.air_conditioning %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Airbags:</th>
              <td><%= @vehicle.airbags_quantity %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Puertas:</th>
              <td><%= @vehicle.door_quantity %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Tracción:</th>
              <td><%= @vehicle.drive %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Dirección:</th>
              <td><%= @vehicle.steering %></td>
            </tr>
            <tr>
              <th style="width:50%;"> Carrocería:</th>
              <td><%= @vehicle.body_type %></td>
            </tr>
          </tbody>
        </table><br>
        <%if @vehicle.belongs_to_current_user?(current_user)%>
          <h5 class="card-title">Información Legal:</h5><br>
          <table class="table table-striped">
            <tbody>
              <tr>
                <th style="width:50%;"> N° de motor:</th>
                <td><%= @vehicle.engine_number %></td>
              </tr>
              <tr>
                <th style="width:50%;"> N° de chasis:</th>
                <td><%= @vehicle.chasis_number %></td>
              </tr>
              <tr>
                <th style="width:50%;"> Patente:</th>
                <td><%= @vehicle.license_plate %></td>
              </tr>
            <tbody>
          <table>
        <%end%>
        <div class="card-body text-center">
          <%= link_to 'Edit', edit_vehicle_path(@vehicle)%> |
          <%= link_to 'Back', vehicles_path %>
        </div>
      </div>
    </div>
  </div>
</div>




